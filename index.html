<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>Korean Flashcards</title>
    <meta name="description" content="Learn Korean with 6000 most common Korean words flashcards">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">Korean Flashcards</h1>
                <div class="header-controls">
                    <button id="theme-toggle-btn" class="icon-btn" aria-label="Toggle theme">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
                        </svg>
                    </button>
                    <button id="settings-btn" class="icon-btn" aria-label="Open settings">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-info">
                <span id="progress-text">Word 1 of 6000</span>
                <span id="difficulty-badge" class="difficulty-badge">Beginner</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Hidden audio element for TTS (with controls for debugging) -->
            <audio id="tts-audio" controls style="display: none;" preload="none"></audio>
            
            <!-- Flashcard Container -->
            <div id="flashcard-container" class="flashcard-container">
                <div id="flashcard" class="flashcard">
                    <!-- Front Side (Question) -->
                    <div class="flashcard-front">
                        <div class="card-header">
                            <div class="word-position">
                                <span id="word-position">1</span>
                            </div>
                            <div class="header-badges">
                                <div class="word-category">
                                    <span class="category-label">Topic:</span>
                                    <span id="word-topic" class="topic-badge">Basic Words</span>
                                </div>
                                <div class="word-type-info">
                                    <span class="type-label">Type:</span>
                                    <span id="word-type" class="type-badge">noun</span>
                                </div>
                                <div class="frequency-info-front">
                                    <span class="frequency-label">Freq:</span>
                                    <span id="frequency-level-front" class="frequency-badge">High</span>
                                </div>
                                <div class="difficulty-info-front">
                                    <span class="difficulty-label">Level:</span>
                                    <span id="difficulty-level-front" class="difficulty-badge">Beginner</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="main-word">
                            <div class="hangul-display">
                                <span id="hangul-text">것</span>
                            </div>
                            <div class="word-audio-controls">
                                <button id="word-audio-btn" class="audio-btn primary" aria-label="Play word pronunciation">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="word-hints">
                            <div class="romanization-display" id="romanization-display">
                                <span id="romanization-text">geot</span>
                            </div>
                        </div>
                    </div>

                    <!-- Back Side (Answer) -->
                    <div class="flashcard-back">
                        <div class="answer-section">
                            <div class="english-translation">
                                <span id="english-text">A thing or an object</span>
                            </div>
                            <div class="pronunciation-guide">
                                <span id="romanization-full" class="romanization-full">geot</span>
                            </div>
                        </div>

                        <div class="example-section" id="example-section">
                            <div class="section-header">
                                <h4>Example Sentence</h4>
                                <button id="sentence-audio-btn" class="audio-btn secondary" aria-label="Play sentence pronunciation">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="sentence-content">
                                <div class="sentence-korean" id="sentence-korean">이것은 일상생활에서 자주 사용되는 것이다.</div>
                                <div class="sentence-romanization" id="sentence-romanization">igeoseun ilsangsaenghwargeseo jaju sayongdoeneun geosida.</div>
                                <div class="sentence-english" id="sentence-english">This is something frequently used in daily life.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation Controls -->
            <div class="navigation-controls">
                <button id="prev-btn" class="nav-btn" aria-label="Previous card">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                    <span>Previous</span>
                </button>
                
                <button id="flip-btn" class="flip-btn" aria-label="Flip card">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                        <path d="M21 3v5h-5"></path>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                        <path d="M3 21v-5h5"></path>
                    </svg>
                    <span>Flip</span>
                </button>

                <button id="next-btn" class="nav-btn" aria-label="Next card">
                    <span>Next</span>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
            </div>
        </main>

        <!-- Settings Panel -->
        <div id="settings-panel" class="settings-panel">
            <div class="settings-content">
                <div class="settings-header">
                    <h2>Settings</h2>
                    <button id="close-settings-btn" class="icon-btn" aria-label="Close settings">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="settings-body">
                    <!-- Search Section -->
                    <div class="settings-section">
                        <h3>Search & Filters</h3>
                        <div class="setting-group">
                            <label for="word-search" class="setting-label-text">Search Words:</label>
                            <input type="text" id="word-search" class="search-input" placeholder="Search by Hangul, English, or romanization...">
                            <button id="clear-search" class="clear-btn" aria-label="Clear search">×</button>
                        </div>
                        
                        <div class="setting-group">
                            <label for="topic-filter" class="setting-label-text">Filter by Topic:</label>
                            <select id="topic-filter" class="filter-select">
                                <option value="all">All Topics</option>
                                <!-- Topic options will be populated dynamically -->
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label for="word-type-filter" class="setting-label-text">Filter by Word Type:</label>
                            <select id="word-type-filter" class="filter-select">
                                <option value="all">All Types</option>
                                <!-- Word type options will be populated dynamically -->
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <div class="filter-actions">
                                <button id="clear-filters" class="action-btn secondary">Clear All Filters</button>
                                <span id="filter-status" class="filter-status">Showing all 6,358 words</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Topic Access -->
                    <div class="settings-section">
                        <h3>Quick Topics</h3>
                        <div class="quick-topics">
                            <button class="topic-btn" data-topic="Basic Words">Basic Words</button>
                            <button class="topic-btn" data-topic="Numbers">Numbers</button>
                            <button class="topic-btn" data-topic="Family">Family</button>
                            <button class="topic-btn" data-topic="Food">Food</button>
                            <button class="topic-btn" data-topic="Greetings">Greetings</button>
                            <button class="topic-btn" data-topic="Colors">Colors</button>
                            <button class="topic-btn" data-topic="Time">Time</button>
                            <button class="topic-btn" data-topic="Jobs">Jobs</button>
                        </div>
                    </div>
                    
                    <!-- Display Settings -->
                    <div class="settings-section">
                        <h3>Display Options</h3>
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="show-romanization" checked>
                                <span class="checkmark"></span>
                                Show Romanization
                            </label>
                        </div>
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="show-audio-controls">
                                <span class="checkmark"></span>
                                Show Audio Controls
                            </label>
                        </div>
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="auto-play-audio">
                                <span class="checkmark"></span>
                                Auto-play Audio
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Loading Korean words...</p>
            </div>
        </div>
    </div>

    <!-- Keyboard shortcuts info -->
    <div class="keyboard-shortcuts" id="keyboard-shortcuts">
        <p><kbd>Space</kbd> Flip card • <kbd>←</kbd> Previous • <kbd>→</kbd> Next • <kbd>A</kbd> Word Audio • <kbd>S</kbd> Sentence Audio • <kbd>Q</kbd> Settings</p>
    </div>

    <script type="module" src="js/main.js?v=3"></script>
</body>
</html>
